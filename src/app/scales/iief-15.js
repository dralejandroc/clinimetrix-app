export const iief15Config = {
  id: 'iief-15',
  questions: [
    {
      id: 1,
      text: "Durante las últimas 4 semanas, ¿con qué frecuencia pudo lograr una erección durante la actividad sexual?",
      options: [
        { value: 0, label: 'Sin actividad sexual' },
        { value: 1, label: 'Casi nunca o nunca' },
        { value: 2, label: 'Pocas veces (menos de la mitad de las veces)' },
        { value: 3, label: 'Algunas veces (aproximadamente la mitad de las veces)' },
        { value: 4, label: 'La mayoría de las veces (más de la mitad de las veces)' },
        { value: 5, label: 'Casi siempre o siempre' }
      ]
    },
    {
      id: 2,
      text: "Durante las últimas 4 semanas, cuando tuvo erecciones con estimulación sexual, ¿con qué frecuencia fueron sus erecciones lo suficientemente duras para la penetración?",
      options: [
        { value: 0, label: 'Sin actividad sexual' },
        { value: 1, label: 'Casi nunca o nunca' },
        { value: 2, label: 'Pocas veces (menos de la mitad de las veces)' },
        { value: 3, label: 'Algunas veces (aproximadamente la mitad de las veces)' },
        { value: 4, label: 'La mayoría de las veces (más de la mitad de las veces)' },
        { value: 5, label: 'Casi siempre o siempre' }
      ]
    },
    {
      id: 3,
      text: "Durante las últimas 4 semanas, cuando intentó tener relaciones sexuales, ¿con qué frecuencia pudo penetrar (entrar) a su pareja?",
      options: [
        { value: 0, label: 'No intenté tener relaciones sexuales' },
        { value: 1, label: 'Casi nunca o nunca' },
        { value: 2, label: 'Pocas veces (menos de la mitad de las veces)' },
        { value: 3, label: 'Algunas veces (aproximadamente la mitad de las veces)' },
        { value: 4, label: 'La mayoría de las veces (más de la mitad de las veces)' },
        { value: 5, label: 'Casi siempre o siempre' }
      ]
    },
    {
      id: 4,
      text: "Durante las últimas 4 semanas, durante las relaciones sexuales, ¿con qué frecuencia pudo mantener su erección después de haber penetrado (entrado) a su pareja?",
      options: [
        { value: 0, label: 'No intenté tener relaciones sexuales' },
        { value: 1, label: 'Casi nunca o nunca' },
        { value: 2, label: 'Pocas veces (menos de la mitad de las veces)' },
        { value: 3, label: 'Algunas veces (aproximadamente la mitad de las veces)' },
        { value: 4, label: 'La mayoría de las veces (más de la mitad de las veces)' },
        { value: 5, label: 'Casi siempre o siempre' }
      ]
    },
    {
      id: 5,
      text: "Durante las últimas 4 semanas, durante las relaciones sexuales, ¿qué tan difícil fue mantener su erección hasta completar la relación sexual?",
      options: [
        { value: 0, label: 'No intenté tener relaciones sexuales' },
        { value: 1, label: 'Extremadamente difícil' },
        { value: 2, label: 'Muy difícil' },
        { value: 3, label: 'Difícil' },
        { value: 4, label: 'Ligeramente difícil' },
        { value: 5, label: 'No fue difícil' }
      ]
    },
    {
      id: 6,
      text: "Durante las últimas 4 semanas, ¿cuántas veces intentó tener relaciones sexuales?",
      options: [
        { value: 0, label: 'No lo intenté' },
        { value: 1, label: 'Uno a dos intentos' },
        { value: 2, label: 'Tres a cuatro intentos' },
        { value: 3, label: 'Cinco a seis intentos' },
        { value: 4, label: 'Siete a diez intentos' },
        { value: 5, label: 'Once o más intentos' }
      ]
    },
    {
      id: 7,
      text: "Durante las últimas 4 semanas, cuando intentó tener relaciones sexuales, ¿con qué frecuencia fueron satisfactorias para usted?",
      options: [
        { value: 0, label: 'No intenté tener relaciones sexuales' },
        { value: 1, label: 'Casi nunca o nunca' },
        { value: 2, label: 'Pocas veces (menos de la mitad de las veces)' },
        { value: 3, label: 'Algunas veces (aproximadamente la mitad de las veces)' },
        { value: 4, label: 'La mayoría de las veces (más de la mitad de las veces)' },
        { value: 5, label: 'Casi siempre o siempre' }
      ]
    },
    {
      id: 8,
      text: "Durante las últimas 4 semanas, ¿cuánto disfrutó las relaciones sexuales?",
      options: [
        { value: 0, label: 'No tuve relaciones sexuales' },
        { value: 1, label: 'No las disfruté para nada' },
        { value: 2, label: 'No muy placentero' },
        { value: 3, label: 'Bastante placentero' },
        { value: 4, label: 'Muy placentero' },
        { value: 5, label: 'Extremadamente placentero' }
      ]
    },
    {
      id: 9,
      text: "Durante las últimas 4 semanas, cuando tuvo estimulación sexual o relaciones sexuales, ¿con qué frecuencia eyaculó?",
      options: [
        { value: 0, label: 'Sin estimulación sexual o relaciones sexuales' },
        { value: 1, label: 'Casi nunca o nunca' },
        { value: 2, label: 'Pocas veces (menos de la mitad de las veces)' },
        { value: 3, label: 'Algunas veces (aproximadamente la mitad de las veces)' },
        { value: 4, label: 'La mayoría de las veces (más de la mitad de las veces)' },
        { value: 5, label: 'Casi siempre o siempre' }
      ]
    },
    {
      id: 10,
      text: "Durante las últimas 4 semanas, cuando tuvo estimulación sexual o relaciones sexuales, ¿con qué frecuencia tuvo la sensación de orgasmo o clímax?",
      options: [
        { value: 0, label: 'Sin estimulación sexual o relaciones sexuales' },
        { value: 1, label: 'Casi nunca o nunca' },
        { value: 2, label: 'Pocas veces (menos de la mitad de las veces)' },
        { value: 3, label: 'Algunas veces (aproximadamente la mitad de las veces)' },
        { value: 4, label: 'La mayoría de las veces (más de la mitad de las veces)' },
        { value: 5, label: 'Casi siempre o siempre' }
      ]
    },
    {
      id: 11,
      text: "Durante las últimas 4 semanas, ¿con qué frecuencia sintió deseo sexual?",
      options: [
        { value: 1, label: 'Casi nunca o nunca' },
        { value: 2, label: 'Pocas veces (menos de la mitad de las veces)' },
        { value: 3, label: 'Algunas veces (aproximadamente la mitad de las veces)' },
        { value: 4, label: 'La mayoría de las veces (más de la mitad de las veces)' },
        { value: 5, label: 'Casi siempre o siempre' }
      ]
    },
    {
      id: 12,
      text: "Durante las últimas 4 semanas, ¿cómo calificaría su nivel de deseo sexual?",
      options: [
        { value: 1, label: 'Muy bajo o inexistente' },
        { value: 2, label: 'Bajo' },
        { value: 3, label: 'Moderado' },
        { value: 4, label: 'Alto' },
        { value: 5, label: 'Muy alto' }
      ]
    },
    {
      id: 13,
      text: "Durante las últimas 4 semanas, ¿qué tan satisfecho ha estado con su vida sexual en general?",
      options: [
        { value: 1, label: 'Muy insatisfecho' },
        { value: 2, label: 'Moderadamente insatisfecho' },
        { value: 3, label: 'Igualmente satisfecho e insatisfecho' },
        { value: 4, label: 'Moderadamente satisfecho' },
        { value: 5, label: 'Muy satisfecho' }
      ]
    },
    {
      id: 14,
      text: "Durante las últimas 4 semanas, ¿qué tan satisfecho ha estado con su relación sexual con su pareja?",
      options: [
        { value: 1, label: 'Muy insatisfecho' },
        { value: 2, label: 'Moderadamente insatisfecho' },
        { value: 3, label: 'Igualmente satisfecho e insatisfecho' },
        { value: 4, label: 'Moderadamente satisfecho' },
        { value: 5, label: 'Muy satisfecho' }
      ]
    },
    {
      id: 15,
      text: "Durante las últimas 4 semanas, ¿cómo calificaría la confianza que tiene en poder lograr y mantener una erección?",
      options: [
        { value: 1, label: 'Muy baja' },
        { value: 2, label: 'Baja' },
        { value: 3, label: 'Moderada' },
        { value: 4, label: 'Alta' },
        { value: 5, label: 'Muy alta' }
      ]
    }
  ],
  // Definir dominios para scoring
  domains: {
    erectileFunction: [1, 2, 3, 4, 5, 15], // Función Eréctil (6 preguntas, máximo 30)
    orgasmicFunction: [9, 10], // Función Orgásmica (2 preguntas, máximo 10)
    sexualDesire: [11, 12], // Deseo Sexual (2 preguntas, máximo 10)
    intercouseSatisfaction: [6, 7, 8], // Satisfacción con Relaciones (3 preguntas, máximo 15)
    overallSatisfaction: [13, 14] // Satisfacción Global (2 preguntas, máximo 10)
  },
  calculateScore: (responses) => {
    const domains = {
      erectileFunction: 0,
      orgasmicFunction: 0,
      sexualDesire: 0,
      intercouseSatisfaction: 0,
      overallSatisfaction: 0
    };

    // Calcular cada dominio
    Object.entries(iief15Config.domains).forEach(([domain, questions]) => {
      domains[domain] = questions.reduce((sum, questionId) => {
        return sum + (responses[questionId] || 0);
      }, 0);
    });

    const totalScore = Object.values(domains).reduce((sum, score) => sum + score, 0);

    return {
      ...domains,
      total: totalScore,
      maxScores: {
        erectileFunction: 30,
        orgasmicFunction: 10,
        sexualDesire: 10,
        intercouseSatisfaction: 15,
        overallSatisfaction: 10,
        total: 75
      }
    };
  },
  interpretation: (scores) => {
    const interpretations = {
      erectileFunction: {
        title: "Función Eréctil",
        ranges: [
          { min: 26, max: 30, level: "Sin disfunción eréctil", severity: "normal", color: "#10b981" },
          { min: 22, max: 25, level: "Disfunción eréctil leve", severity: "mild", color: "#eab308" },
          { min: 17, max: 21, level: "Disfunción eréctil leve-moderada", severity: "mild-moderate", color: "#f97316" },
          { min: 11, max: 16, level: "Disfunción eréctil moderada", severity: "moderate", color: "#ef4444" },
          { min: 0, max: 10, level: "Disfunción eréctil severa", severity: "severe", color: "#dc2626" }
        ]
      },
      total: {
        title: "Puntuación Total IIEF",
        ranges: [
          { min: 55, max: 75, level: "Función sexual normal", severity: "normal", color: "#10b981" },
          { min: 44, max: 54, level: "Disfunción sexual leve", severity: "mild", color: "#eab308" },
          { min: 37, max: 43, level: "Disfunción sexual leve-moderada", severity: "mild-moderate", color: "#f97316" },
          { min: 22, max: 36, level: "Disfunción sexual moderada", severity: "moderate", color: "#ef4444" },
          { min: 5, max: 21, level: "Disfunción sexual severa", severity: "severe", color: "#dc2626" }
        ]
      }
    };

    function findRange(score, ranges) {
      return ranges.find(range => score >= range.min && score <= range.max) || 
             { level: "No clasificado", severity: "normal", color: "#6b7280" };
    }

    const erectileInterpretation = findRange(scores.erectileFunction, interpretations.erectileFunction.ranges);
    const totalInterpretation = findRange(scores.total, interpretations.total.ranges);

    return {
      primary: erectileInterpretation,
      total: totalInterpretation,
      domains: {
        erectileFunction: erectileInterpretation,
        orgasmicFunction: scores.orgasmicFunction >= 7 ? 
          { level: "Función orgásmica adecuada", severity: "normal", color: "#10b981" } : 
          { level: "Posible disfunción orgásmica", severity: "moderate", color: "#ef4444" },
        sexualDesire: scores.sexualDesire >= 7 ? 
          { level: "Deseo sexual adecuado", severity: "normal", color: "#10b981" } : 
          { level: "Posible bajo deseo sexual", severity: "moderate", color: "#ef4444" },
        intercouseSatisfaction: scores.intercouseSatisfaction >= 10 ? 
          { level: "Satisfacción con relaciones adecuada", severity: "normal", color: "#10b981" } : 
          { level: "Posible insatisfacción con relaciones", severity: "moderate", color: "#ef4444" },
        overallSatisfaction: scores.overallSatisfaction >= 7 ? 
          { level: "Satisfacción global adecuada", severity: "normal", color: "#10b981" } : 
          { level: "Posible insatisfacción global", severity: "moderate", color: "#ef4444" }
      }
    };
  },
  getAlerts: (scores, interpretation) => {
    const alerts = [];

    // Alertas críticas basadas en puntuaciones muy bajas
    if (scores.erectileFunction <= 10) {
      alerts.push({
        type: 'critical',
        message: "Disfunción eréctil severa detectada - considerar evaluación urológica integral"
      });
    }

    if (scores.sexualDesire <= 4) {
      alerts.push({
        type: 'warning',
        message: "Deseo sexual muy bajo - considerar evaluación endocrinológica y psicológica"
      });
    }

    if (scores.total <= 21) {
      alerts.push({
        type: 'critical',
        message: "Disfunción sexual severa global - requiere evaluación multidisciplinaria"
      });
    }

    // Alertas informativas para puntuaciones moderadamente bajas
    if (scores.orgasmicFunction <= 4) {
      alerts.push({
        type: 'info',
        message: "Función orgásmica comprometida - evaluar factores médicos y psicológicos"
      });
    }

    if (scores.intercouseSatisfaction <= 7) {
      alerts.push({
        type: 'info', 
        message: "Baja satisfacción con relaciones sexuales - considerar terapia de pareja"
      });
    }

    return alerts;
  }
};

export const iief15ScaleData = {
  id: 'iief-15',
  fullName: 'Índice Internacional de Función Eréctil (IIEF-15)',
  shortName: 'IIEF-15',
  description: 'Instrumento multidimensional para evaluar la función sexual masculina en cinco dominios: función eréctil, función orgásmica, deseo sexual, satisfacción con la relación sexual y satisfacción global.',
  questions: 15,
  duration: '5-8',
  applicationType: 'Autoaplicada',
  ageRange: 'Adultos masculinos',
  diagnostics: ['Disfunción eréctil', 'Disfunción sexual masculina'],
  tags: ['salud sexual', 'disfunción eréctil', 'sexualidad', 'adulto', 'función sexual', 'urología'],
  available: true,
  icon: 'medical-icon',
  color: '#29A98C',
  instructions: {
    main: 'Este cuestionario evalúa cinco dominios de la función sexual masculina durante las últimas 4 semanas.',
    timeframe: '4 semanas',
    important: [
      'Todas las preguntas se refieren a las últimas 4 semanas de actividad sexual',
      'Sus respuestas son completamente confidenciales',  
      'Por favor, responda con sinceridad para obtener una evaluación precisa',
      'Es importante responder todas las preguntas',
      'Si no ha tenido actividad sexual, seleccione la opción correspondiente'
    ],
    definitions: [
      {
        term: 'Actividad sexual',
        definition: 'Incluye la relación sexual, caricias, juegos previos y masturbación'
      },
      {
        term: 'Deseo sexual', 
        definition: 'Sensación que puede ser un deseo de tener una experiencia sexual, un pensamiento sobre una relación sexual o un sentimiento de frustración por no tener una relación sexual'
      },
      {
        term: 'Relación sexual',
        definition: 'Se define como la penetración de la pareja'
      },
      {
        term: 'Estimulación sexual',
        definition: 'Incluye situaciones como el juego previo con la pareja, la estimulación visual mediante imágenes eróticas, etc.'
      },
      {
        term: 'Eyaculación',
        definition: 'La expulsión de semen del pene (o la sensación que produce)'
      }
    ]
  }
};

export const iief15HelpInfo = {
  purpose: "El IIEF-15 es un instrumento validado internacionalmente para evaluar la función sexual masculina, específicamente diseñado para diagnosticar y cuantificar la severidad de la disfunción eréctil y otros aspectos de la función sexual.",
  domains: [
    {
      name: "Función Eréctil (Q1-5, Q15)",
      description: "Evalúa la capacidad de lograr y mantener erecciones suficientes para la actividad sexual",
      maxScore: 30
    },
    {
      name: "Función Orgásmica (Q9-10)", 
      description: "Mide la frecuencia de eyaculación y sensación orgásmica durante la actividad sexual",
      maxScore: 10
    },
    {
      name: "Deseo Sexual (Q11-12)",
      description: "Evalúa la frecuencia e intensidad del deseo sexual",
      maxScore: 10
    },
    {
      name: "Satisfacción con Relaciones (Q6-8)",
      description: "Mide la frecuencia, satisfacción y disfrute de las relaciones sexuales",
      maxScore: 15
    },
    {
      name: "Satisfacción Global (Q13-14)",
      description: "Evalúa la satisfacción general con la vida sexual y la relación de pareja",
      maxScore: 10
    }
  ],
  scoring: {
    method: "Suma directa de las respuestas en cada dominio y total",
    ranges: [
      { domain: "Función Eréctil", range: "26-30", severity: "Sin disfunción eréctil", color: "#10b981" },
      { domain: "Función Eréctil", range: "22-25", severity: "Disfunción eréctil leve", color: "#eab308" },
      { domain: "Función Eréctil", range: "17-21", severity: "Disfunción eréctil leve-moderada", color: "#f97316" },
      { domain: "Función Eréctil", range: "11-16", severity: "Disfunción eréctil moderada", color: "#ef4444" },
      { domain: "Función Eréctil", range: "0-10", severity: "Disfunción eréctil severa", color: "#dc2626" },
      { domain: "Total IIEF", range: "55-75", severity: "Función sexual normal", color: "#10b981" },
      { domain: "Total IIEF", range: "44-54", severity: "Disfunción sexual leve", color: "#eab308" },
      { domain: "Total IIEF", range: "37-43", severity: "Disfunción sexual leve-moderada", color: "#f97316" },
      { domain: "Total IIEF", range: "22-36", severity: "Disfunción sexual moderada", color: "#ef4444" },
      { domain: "Total IIEF", range: "5-21", severity: "Disfunción sexual severa", color: "#dc2626" }
    ]
  },
  clinical_considerations: [
    "Instrumento estándar de oro para evaluación de disfunción eréctil en investigación y práctica clínica",
    "Útil para monitorear respuesta a tratamientos farmacológicos y no farmacológicos",
    "Permite evaluación multidimensional de la función sexual masculina",
    "Sensible a cambios clínicamente significativos en la función sexual",
    "Aplicable en diferentes contextos culturales y poblaciones"
  ],
  limitations: [
    "Requiere actividad sexual reciente para evaluación completa de algunos dominios",
    "Puede estar influenciado por factores psicológicos y de relación de pareja",
    "No evalúa aspectos específicos como libido o funcionamiento hormonal directamente",
    "La interpretación debe considerar el contexto clínico completo del paciente"
  ],
  recommendations: [
    "Combinar con historia clínica detallada y examen físico",
    "Considerar factores médicos, psicológicos y de relación que puedan influir",
    "Repetir evaluación después de intervenciones terapéuticas para monitorear respuesta",
    "Interpretar resultados en contexto de expectativas y objetivos del paciente"
  ],
  references: "Rosen RC, Riley A, Wagner G, et al. The international index of erectile function (IIEF): a multidimensional scale for assessment of erectile dysfunction. Urology. 1997;49(6):822-830."
};